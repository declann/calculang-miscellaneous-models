{"version":3,"sources":["simple-incometax.cul.js"],"names":["tax_credits","pension_contribution","gross_salary","tax_credits_A","pension_contribution_A","gross_salary_A","income_tax_impact","gross_salary_impact","net_salary_impact","paye_taxable_salary_impact","net_salary_plus_pension_contribution_impact","pension_contribution_impact","income_tax_B","net_salary_plus_pension_contribution_B","paye_taxable_salary_B","net_salary_B","pension_contribution_B","gross_salary_B","gross_salary_","gross_salary_in","tax_credits_","tax_credits_in","pension_contribution_","pension_contribution_in","net_salary","gross_salary_A_in","pension_contribution_A_in","tax_credits_A_in","income_tax","paye","prsi","usc","effective_rate","prsi_taxable_salary","prsi_rate","usc_table","band_id","band_co","rate","usc_band_id","usc_band_id_in","usc_band_end","length","usc_band_start","usc_rate","usc_taxable_salary","usc_by_band_id","Math","min","max","reduce","a","v","paye_table","paye_band_id","paye_band_id_in","paye_band_end","paye_band_start","paye_rate","paye_taxable_salary","paye_by_band_id","paye_over_bands","net_salary_plus_pension_contribution"],"mappings":"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","sourcesContent":["import { tax_credits } from \"./A.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { pension_contribution } from \"./A.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { gross_salary } from \"./A.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { tax_credits_A } from \"./A.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { pension_contribution_A } from \"./A.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { gross_salary_A } from \"./A.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { income_tax_impact } from \"./impact-simple.cul.js\";import { gross_salary_impact } from \"./impact-simple.cul.js\";import { net_salary_impact } from \"./impact-simple.cul.js\";import { paye_taxable_salary_impact } from \"./impact-simple.cul.js\";import { net_salary_plus_pension_contribution_impact } from \"./impact-simple.cul.js\";import { pension_contribution_impact } from \"./impact-simple.cul.js\";import { income_tax_B } from \"./B.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { net_salary_plus_pension_contribution_B } from \"./B.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { paye_taxable_salary_B } from \"./B.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { net_salary_B } from \"./B.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { pension_contribution_B } from \"./B.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { gross_salary_B } from \"./B.cul?cul_scope_id=2&cul_parent_scope_id=0\"; // heavily simplified incometax calculation for Irish incometax\n// set to 2022 parameters, single person. Many limitations\n// work in progress. See README.md\n\n// inputs:\nexport const gross_salary_ = ({ gross_salary_in }) => gross_salary_in;\nexport const tax_credits_ = ({ tax_credits_in }) => tax_credits_in;\nexport const pension_contribution_ = ({ pension_contribution_in }) => pension_contribution_in;\n\n// functions:\nexport const net_salary = ({ gross_salary_A_in, pension_contribution_A_in, tax_credits_A_in }) => gross_salary({ gross_salary_A_in }) - pension_contribution({ pension_contribution_A_in }) - income_tax({ gross_salary_A_in, pension_contribution_A_in, tax_credits_A_in });\n\nexport const income_tax = ({ gross_salary_A_in, pension_contribution_A_in, tax_credits_A_in }) => paye({ gross_salary_A_in, pension_contribution_A_in, tax_credits_A_in }) + prsi({ gross_salary_A_in }) + usc({ gross_salary_A_in });\n\nexport const effective_rate = ({ gross_salary_A_in, pension_contribution_A_in, tax_credits_A_in }) => 1 - net_salary({ gross_salary_A_in, pension_contribution_A_in, tax_credits_A_in }) / gross_salary({ gross_salary_A_in });\n\nexport const prsi_taxable_salary = ({ gross_salary_A_in }) => gross_salary({ gross_salary_A_in });\n\nexport const prsi = ({ gross_salary_A_in }) =>\nprsi_taxable_salary({ gross_salary_A_in }) * prsi_rate({}) * (gross_salary({ gross_salary_A_in }) > 352 * 52 ? 1 : 0); // todo feature flag RE threshold\n\nexport const prsi_rate = ({}) => 0.04;\n\n// USC, should be mostly abstracted to a table loader\n// issues: #11 #76\nexport const usc_table = ({}) => [\n{ band_id: 1, band_co: 12012, rate: 0.005 },\n{ band_id: 2, band_co: 21295, rate: 0.02 },\n{\n  band_id: 3,\n  band_co: 70144,\n  rate: 0.045 },\n\n{ band_id: 4, band_co: 0, rate: 0.08 }];\n\n\nexport const usc_band_id = ({ usc_band_id_in }) => usc_band_id_in;\n\nexport const usc_band_end = ({ usc_band_id_in }) => {\n  if (usc_band_id({ usc_band_id_in }) == usc_table({}).length) return 999999999;\n  return usc_table({})[usc_band_id({ usc_band_id_in }) - 1].band_co;\n};\n\nexport const usc_band_start = ({ usc_band_id_in }) => {\n  if (usc_band_id({ usc_band_id_in }) == 1) return 0;\n  return usc_table({})[usc_band_id({ usc_band_id_in }) - 2].band_co;\n};\n\nexport const usc_rate = ({ usc_band_id_in }) => usc_table({})[usc_band_id({ usc_band_id_in }) - 1].rate;\n\nexport const usc_taxable_salary = ({ gross_salary_A_in }) => gross_salary({ gross_salary_A_in }); // pay usc on pension contribution\n\nexport const usc_by_band_id = ({ usc_band_id_in, gross_salary_A_in }) =>\nusc_rate({ usc_band_id_in }) *\nMath.min(\nusc_band_end({ usc_band_id_in }) - usc_band_start({ usc_band_id_in }),\nMath.max(usc_taxable_salary({ gross_salary_A_in }) - usc_band_start({ usc_band_id_in }), 0));\n\n\nexport const usc = ({ gross_salary_A_in }) =>\nusc_table({}).reduce(\n(a, v) => a + usc_by_band_id({ gross_salary_A_in, usc_band_id_in: v.band_id }),\n0) * (\ngross_salary({ gross_salary_A_in }) > 13000 ? 1 : 0);\n\n// PAYE, \"\nexport const paye_table = ({}) => [\n{ band_id: 1, band_co: 36800, rate: 0.2 },\n{ band_id: 2, band_co: 100000, rate: 0.4 },\n{\n  band_id: 3,\n  band_co: 0,\n  rate: 0.4 }];\n\n\n\nexport const paye_band_id = ({ paye_band_id_in }) => paye_band_id_in;\n\nexport const paye_band_end = ({ paye_band_id_in }) => {\n  if (paye_band_id({ paye_band_id_in }) == paye_table({}).length) return 999999999;\n  return paye_table({})[paye_band_id({ paye_band_id_in }) - 1].band_co;\n};\n\nexport const paye_band_start = ({ paye_band_id_in }) => {\n  if (paye_band_id({ paye_band_id_in }) == 1) return 0;\n  return paye_table({})[paye_band_id({ paye_band_id_in }) - 2].band_co;\n};\n\nexport const paye_rate = ({ paye_band_id_in }) => paye_table({})[paye_band_id({ paye_band_id_in }) - 1].rate;\n\nexport const paye_taxable_salary = ({ gross_salary_A_in, pension_contribution_A_in }) =>\nMath.max(0, gross_salary({ gross_salary_A_in }) - pension_contribution({ pension_contribution_A_in }));\n\nexport const paye_by_band_id = ({ paye_band_id_in, gross_salary_A_in, pension_contribution_A_in }) =>\npaye_rate({ paye_band_id_in }) *\nMath.min(\npaye_band_end({ paye_band_id_in }) - paye_band_start({ paye_band_id_in }),\nMath.max(paye_taxable_salary({ gross_salary_A_in, pension_contribution_A_in }) - paye_band_start({ paye_band_id_in }), 0));\n\n\nexport const paye_over_bands = ({ gross_salary_A_in, pension_contribution_A_in }) =>\nMath.max(\n0,\npaye_table({}).reduce(\n(a, v) => a + paye_by_band_id({ gross_salary_A_in, pension_contribution_A_in, paye_band_id_in: v.band_id }),\n0)\n//- tax_credit() // input not working here => placed outside. Issue #95\n);\n\nexport const paye = ({ gross_salary_A_in, pension_contribution_A_in, tax_credits_A_in }) => Math.max(paye_over_bands({ gross_salary_A_in, pension_contribution_A_in }) - tax_credits({ tax_credits_A_in }), 0);\n\nexport const net_salary_plus_pension_contribution = ({ gross_salary_A_in, pension_contribution_A_in, tax_credits_A_in }) =>\nnet_salary({ gross_salary_A_in, pension_contribution_A_in, tax_credits_A_in }) + pension_contribution({ pension_contribution_A_in });"]}
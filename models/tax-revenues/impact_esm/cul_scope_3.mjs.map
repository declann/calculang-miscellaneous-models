{"version":3,"sources":["simple-incometax.cul.js"],"names":["usc_sum","paye_sum","income_tax_sum","usc_by_taxpayer","paye_by_taxpayer","income_tax_by_taxpayer","proportion","gross_salary","taxpayer_count","taxpayer_table","taxpayer_id","usc_impact","usc_sum_impact","paye_impact","paye_sum_impact","income_tax_impact","income_tax_sum_impact","paye_by_taxpayer_impact","usc_by_taxpayer_impact","income_tax_by_taxpayer_impact","paye_by_taxpayer_proposed","usc_by_taxpayer_proposed","income_tax_by_taxpayer_proposed","usc_proposed","usc_sum_proposed","paye_proposed","paye_sum_proposed","effective_rate_proposed","income_tax_proposed","income_tax_sum_proposed","net_salary","taxpayer_table_in","taxpayer_id_in","tax_credit_in","income_tax","gross_salary_","gross_salary_in","Math","max","paye","tax_credit","prsi","usc","effective_rate","usc_table","band_id","band_co","rate","usc_band_id","usc_band_id_in","usc_band_end","length","usc_band_start","usc_rate","usc_by_band_id","min","reduce","a","v","paye_table","paye_band_id","paye_band_id_in","paye_band_end","paye_band_start","paye_rate","paye_by_band_id"],"mappings":"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","sourcesContent":["import { usc_sum } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { paye_sum } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { income_tax_sum } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { usc_by_taxpayer } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { paye_by_taxpayer } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { income_tax_by_taxpayer } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { proportion } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { gross_salary } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { taxpayer_count } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { taxpayer_table } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { taxpayer_id } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { usc_impact } from \"./impact.cul.js\";import { usc_sum_impact } from \"./impact.cul.js\";import { paye_impact } from \"./impact.cul.js\";import { paye_sum_impact } from \"./impact.cul.js\";import { income_tax_impact } from \"./impact.cul.js\";import { income_tax_sum_impact } from \"./impact.cul.js\";import { paye_by_taxpayer_impact } from \"./impact.cul.js\";import { usc_by_taxpayer_impact } from \"./impact.cul.js\";import { income_tax_by_taxpayer_impact } from \"./impact.cul.js\";import { paye_by_taxpayer_proposed } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { usc_by_taxpayer_proposed } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { income_tax_by_taxpayer_proposed } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { usc_proposed } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { usc_sum_proposed } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { paye_proposed } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { paye_sum_proposed } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { effective_rate_proposed } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { income_tax_proposed } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { income_tax_sum_proposed } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\"; // heavily simplified incometax calculation for Irish incometax\n// set to 2022 parameters. Many limitations\n\nexport const net_salary = ({ taxpayer_table_in, taxpayer_id_in, tax_credit_in }) => gross_salary({ taxpayer_table_in, taxpayer_id_in }) - income_tax({ taxpayer_table_in, taxpayer_id_in, tax_credit_in });\n\nexport const gross_salary_ = ({ gross_salary_in }) => gross_salary_in;\n\nexport const income_tax = ({ taxpayer_table_in, taxpayer_id_in, tax_credit_in }) => Math.max(Math.max(paye({ taxpayer_table_in, taxpayer_id_in }) - tax_credit({ tax_credit_in }), 0) + prsi({ taxpayer_table_in, taxpayer_id_in }) + usc({ taxpayer_table_in, taxpayer_id_in }), 0);\n\nexport const tax_credit = ({ tax_credit_in }) => tax_credit_in;\n\nexport const effective_rate = ({ taxpayer_table_in, taxpayer_id_in, tax_credit_in }) => 1 - net_salary({ taxpayer_table_in, taxpayer_id_in, tax_credit_in }) / gross_salary({ taxpayer_table_in, taxpayer_id_in });\n\nexport const prsi = ({ taxpayer_table_in, taxpayer_id_in }) =>\ngross_salary({ taxpayer_table_in, taxpayer_id_in }) * 0.04 * (gross_salary({ taxpayer_table_in, taxpayer_id_in }) > 352 * 52 ? 1 : 0);\n\nexport const usc_table = ({}) => [\n{ band_id: 1, band_co: 12012, rate: 0.005 },\n{ band_id: 2, band_co: 21295, rate: 0.02 },\n{\n  band_id: 3,\n  band_co: 70144,\n  rate: 0.045 },\n\n{ band_id: 4, band_co: 0, rate: 0.08 }];\n\n\nexport const usc_band_id = ({ usc_band_id_in }) => usc_band_id_in;\n\nexport const usc_band_end = ({ usc_band_id_in }) => {\n  if (usc_band_id({ usc_band_id_in }) == usc_table({}).length) return 999999999;\n  return usc_table({})[usc_band_id({ usc_band_id_in }) - 1].band_co;\n};\n\nexport const usc_band_start = ({ usc_band_id_in }) => {\n  if (usc_band_id({ usc_band_id_in }) == 1) return 0;\n  return usc_table({})[usc_band_id({ usc_band_id_in }) - 2].band_co;\n};\n\nexport const usc_rate = ({ usc_band_id_in }) => usc_table({})[usc_band_id({ usc_band_id_in }) - 1].rate;\n\nexport const usc_by_band_id = ({ usc_band_id_in, taxpayer_table_in, taxpayer_id_in }) =>\nusc_rate({ usc_band_id_in }) *\nMath.min(\nusc_band_end({ usc_band_id_in }) - usc_band_start({ usc_band_id_in }),\nMath.max(gross_salary({ taxpayer_table_in, taxpayer_id_in }) - usc_band_start({ usc_band_id_in }), 0));\n\n\nexport const usc = ({ taxpayer_table_in, taxpayer_id_in }) =>\nusc_table({}).reduce(\n(a, v) => a + usc_by_band_id({ taxpayer_table_in, taxpayer_id_in, usc_band_id_in: v.band_id }),\n0) * (\ngross_salary({ taxpayer_table_in, taxpayer_id_in }) > 13000 ? 1 : 0);\n\nexport const paye_table = ({}) => [\n{ band_id: 1, band_co: 36800, rate: 0.2 },\n{ band_id: 2, band_co: 100000, rate: 0.4 },\n{\n  band_id: 3,\n  band_co: 0,\n  rate: 0.4 }];\n\n\n\nexport const paye_band_id = ({ paye_band_id_in }) => paye_band_id_in;\n\nexport const paye_band_end = ({ paye_band_id_in }) => {\n  if (paye_band_id({ paye_band_id_in }) == paye_table({}).length) return 999999999;\n  return paye_table({})[paye_band_id({ paye_band_id_in }) - 1].band_co;\n};\n\nexport const paye_band_start = ({ paye_band_id_in }) => {\n  if (paye_band_id({ paye_band_id_in }) == 1) return 0;\n  return paye_table({})[paye_band_id({ paye_band_id_in }) - 2].band_co;\n};\n\nexport const paye_rate = ({ paye_band_id_in }) => paye_table({})[paye_band_id({ paye_band_id_in }) - 1].rate;\n\nexport const paye_by_band_id = ({ paye_band_id_in, taxpayer_table_in, taxpayer_id_in }) =>\npaye_rate({ paye_band_id_in }) *\nMath.min(\npaye_band_end({ paye_band_id_in }) - paye_band_start({ paye_band_id_in }),\nMath.max(gross_salary({ taxpayer_table_in, taxpayer_id_in }) - paye_band_start({ paye_band_id_in }), 0));\n\n\nexport const paye = ({ taxpayer_table_in, taxpayer_id_in }) =>\nMath.max(\n0,\npaye_table({}).reduce(\n(a, v) => a + paye_by_band_id({ taxpayer_table_in, taxpayer_id_in, paye_band_id_in: v.band_id }),\n0) -\ntax_credit({ tax_credit_in }) // input not working here, related to reduce/- above?\n);"]}
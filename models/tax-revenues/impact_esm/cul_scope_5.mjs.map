{"version":3,"sources":["simple-incometax.cul.js"],"names":["income_tax_sum","gross_salary","taxpayer_table","taxpayer_id","usc_table","band","tax_rate","income_tax_impact","income_tax_sum_impact","effective_rate_current","income_tax_current","income_tax_sum_current","net_salary","taxpayer_table_in","taxpayer_id_in","band_in","usc_table_in","band_id_in","income_tax","gross_salary_","gross_salary_in","Math","max","paye","prsi","usc","tax_credit","effective_rate","band_","usc_table_","band_id","band_co","rate","usc_band_end","length","usc_band_start","usc_rate","usc_by_band_id","min","reduce","a","v"],"mappings":"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","sourcesContent":["import { income_tax_sum } from \"./incometax-set.cul?cul_scope_id=4&cul_parent_scope_id=2\";import { gross_salary } from \"./incometax-set.cul?cul_scope_id=4&cul_parent_scope_id=2\";import { taxpayer_table } from \"./incometax-set.cul?cul_scope_id=4&cul_parent_scope_id=2\";import { taxpayer_id } from \"./incometax-set.cul?cul_scope_id=4&cul_parent_scope_id=2\";import { usc_table } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { band } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { tax_rate } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { income_tax_impact } from \"./impact.cul.js\";import { income_tax_sum_impact } from \"./impact.cul.js\";import { effective_rate_current } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { income_tax_current } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { income_tax_sum_current } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\"; // a simple one\n\nexport const net_salary = ({ taxpayer_table_in, taxpayer_id_in, band_in, usc_table_in, band_id_in }) => gross_salary({ taxpayer_table_in, taxpayer_id_in }) - income_tax({ taxpayer_table_in, taxpayer_id_in, band_in, usc_table_in, band_id_in });\n\nexport const gross_salary_ = ({ gross_salary_in }) => gross_salary_in;\n\nexport const income_tax = ({ taxpayer_table_in, taxpayer_id_in, band_in, usc_table_in, band_id_in }) => Math.max(paye({ taxpayer_table_in, taxpayer_id_in, band_in }) + prsi({ taxpayer_table_in, taxpayer_id_in }) - usc({ usc_table_in, band_id_in, taxpayer_table_in, taxpayer_id_in }) - tax_credit({}), 0);\n\nexport const tax_credit = ({}) => 1000;\n\nexport const effective_rate = ({ taxpayer_table_in, taxpayer_id_in, band_in, usc_table_in, band_id_in }) => 1 - net_salary({ taxpayer_table_in, taxpayer_id_in, band_in, usc_table_in, band_id_in }) / gross_salary({ taxpayer_table_in, taxpayer_id_in });\n\nexport const prsi = ({ taxpayer_table_in, taxpayer_id_in }) => gross_salary({ taxpayer_table_in, taxpayer_id_in }) * 0.04;\n\nexport const band_ = ({}) => 30000;\n\nexport const paye = ({ taxpayer_table_in, taxpayer_id_in, band_in }) => {\n  return 0.2 * gross_salary({ taxpayer_table_in, taxpayer_id_in }) + 0.2 * Math.max(gross_salary({ taxpayer_table_in, taxpayer_id_in }) - band({ band_in }), 0);\n};\n\nexport const usc_table_ = ({}) => [\n{ band_id: 1, band_co: 12012, rate: 0.005 },\n{ band_id: 2, band_co: 21295, rate: 0.02 },\n{\n  band_id: 3,\n  band_co: 70144,\n  rate: 0.045 },\n\n{ band_id: 4, band_co: 0, rate: 0.08 }];\n\n\nexport const band_id = ({ band_id_in }) => band_id_in;\n\nexport const usc_band_end = ({ band_id_in, usc_table_in }) => {\n  if (band_id({ band_id_in }) == usc_table({ usc_table_in }).length) return 999999999;\n  return usc_table({ usc_table_in })[band_id({ band_id_in }) - 1];\n};\nexport const usc_band_start = ({ band_id_in, usc_table_in }) => {\n  if (band_id({ band_id_in }) == 1) return 0;\n  return usc_table({ usc_table_in })[band_id({ band_id_in }) - 2];\n};\nexport const usc_rate = ({ usc_table_in, band_id_in }) => usc_table({ usc_table_in })[band_id({ band_id_in }) - 1];\nexport const usc_by_band_id = ({ usc_table_in, band_id_in, taxpayer_table_in, taxpayer_id_in }) =>\nusc_rate({ usc_table_in, band_id_in }) *\nMath.min(\nusc_band_end({ band_id_in, usc_table_in }) - usc_band_start({ band_id_in, usc_table_in }),\nMath.max(gross_salary({ taxpayer_table_in, taxpayer_id_in }) - usc_band_start({ band_id_in, usc_table_in }), 0));\n\nexport const usc = ({ usc_table_in, band_id_in, taxpayer_table_in, taxpayer_id_in }) => usc_table({ usc_table_in }).reduce((a, v) => a + usc_by_band_id({ usc_table_in, band_id_in, taxpayer_table_in, taxpayer_id_in, band_id: v.band_id }), 0);\n/*\r\nexport const usc_by_band_id = () => {\r\n  return (({ band_id, band_co, rate }) => Math.max(gross_salary() - 1))(\r\n    // there is a rate +1 thing that should be better!)\r\n    usc_table()[band_id() - 1]\r\n  );\r\n};\r\n*/"]}
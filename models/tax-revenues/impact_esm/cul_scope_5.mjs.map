{"version":3,"sources":["simple-incometax.cul.js"],"names":["prsi_sum","usc_sum","paye_sum","income_tax_sum","prsi_by_taxpayer","usc_by_taxpayer","paye_by_taxpayer","income_tax_by_taxpayer","proportion","gross_salary","taxpayer_count","taxpayer_table","taxpayer_id","prsi_rate","paye_table","usc_table","band","tax_credit","tax_credit_proposed","tax_rate","prsi_impact","prsi_sum_impact","usc_impact","usc_sum_impact","paye_impact","paye_sum_impact","income_tax_impact","income_tax_sum_impact","paye_by_taxpayer_impact","usc_by_taxpayer_impact","income_tax_by_taxpayer_impact","paye_by_taxpayer_current","usc_by_taxpayer_current","income_tax_by_taxpayer_current","prsi_current","prsi_sum_current","usc_current","usc_sum_current","paye_current","paye_sum_current","effective_rate_current","income_tax_current","income_tax_sum_current","gross_salary_","gross_salary_in","tax_credit_","tax_credit_in","net_salary","taxpayer_table_in","taxpayer_id_in","paye_table_in","tax_credit_proposed_in","prsi_rate_in","usc_table_in","income_tax","paye","prsi","usc","effective_rate","prsi_rate_","usc_table_","band_id","band_co","rate","usc_band_id","usc_band_id_in","usc_band_end","length","usc_band_start","usc_rate","usc_by_band_id","Math","min","max","reduce","a","v","paye_table_","paye_band_id","paye_band_id_in","paye_band_end","paye_band_start","paye_rate","paye_by_band_id","paye_over_bands"],"mappings":"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","sourcesContent":["import { prsi_sum } from \"./incometax-set.cul?cul_scope_id=4&cul_parent_scope_id=2\";import { usc_sum } from \"./incometax-set.cul?cul_scope_id=4&cul_parent_scope_id=2\";import { paye_sum } from \"./incometax-set.cul?cul_scope_id=4&cul_parent_scope_id=2\";import { income_tax_sum } from \"./incometax-set.cul?cul_scope_id=4&cul_parent_scope_id=2\";import { prsi_by_taxpayer } from \"./incometax-set.cul?cul_scope_id=4&cul_parent_scope_id=2\";import { usc_by_taxpayer } from \"./incometax-set.cul?cul_scope_id=4&cul_parent_scope_id=2\";import { paye_by_taxpayer } from \"./incometax-set.cul?cul_scope_id=4&cul_parent_scope_id=2\";import { income_tax_by_taxpayer } from \"./incometax-set.cul?cul_scope_id=4&cul_parent_scope_id=2\";import { proportion } from \"./incometax-set.cul?cul_scope_id=4&cul_parent_scope_id=2\";import { gross_salary } from \"./incometax-set.cul?cul_scope_id=4&cul_parent_scope_id=2\";import { taxpayer_count } from \"./incometax-set.cul?cul_scope_id=4&cul_parent_scope_id=2\";import { taxpayer_table } from \"./incometax-set.cul?cul_scope_id=4&cul_parent_scope_id=2\";import { taxpayer_id } from \"./incometax-set.cul?cul_scope_id=4&cul_parent_scope_id=2\";import { prsi_rate } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { paye_table } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { usc_table } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { band } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { tax_credit } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { tax_credit_proposed } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { tax_rate } from \"./proposed.cul?cul_scope_id=2&cul_parent_scope_id=0\";import { prsi_impact } from \"./impact.cul.js\";import { prsi_sum_impact } from \"./impact.cul.js\";import { usc_impact } from \"./impact.cul.js\";import { usc_sum_impact } from \"./impact.cul.js\";import { paye_impact } from \"./impact.cul.js\";import { paye_sum_impact } from \"./impact.cul.js\";import { income_tax_impact } from \"./impact.cul.js\";import { income_tax_sum_impact } from \"./impact.cul.js\";import { paye_by_taxpayer_impact } from \"./impact.cul.js\";import { usc_by_taxpayer_impact } from \"./impact.cul.js\";import { income_tax_by_taxpayer_impact } from \"./impact.cul.js\";import { paye_by_taxpayer_current } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { usc_by_taxpayer_current } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { income_tax_by_taxpayer_current } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { prsi_current } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { prsi_sum_current } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { usc_current } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { usc_sum_current } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { paye_current } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { paye_sum_current } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { effective_rate_current } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { income_tax_current } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\";import { income_tax_sum_current } from \"./incometax-set.cul?cul_scope_id=1&cul_parent_scope_id=0\"; // heavily simplified incometax calculation for Irish incometax\n// set to 2022 parameters, single person. Many limitations\n// work in progress. See README.md\n\n// inputs:\nexport const gross_salary_ = ({ gross_salary_in }) => gross_salary_in;\nexport const tax_credit_ = ({ tax_credit_in }) => tax_credit_in;\n\n// functions:\nexport const net_salary = ({ taxpayer_table_in, taxpayer_id_in, paye_table_in, tax_credit_proposed_in, prsi_rate_in, usc_table_in }) => gross_salary({ taxpayer_table_in, taxpayer_id_in }) - income_tax({ paye_table_in, taxpayer_table_in, taxpayer_id_in, tax_credit_proposed_in, prsi_rate_in, usc_table_in });\n\nexport const income_tax = ({ paye_table_in, taxpayer_table_in, taxpayer_id_in, tax_credit_proposed_in, prsi_rate_in, usc_table_in }) => paye({ paye_table_in, taxpayer_table_in, taxpayer_id_in, tax_credit_proposed_in }) + prsi({ taxpayer_table_in, taxpayer_id_in, prsi_rate_in }) + usc({ usc_table_in, taxpayer_table_in, taxpayer_id_in });\n\nexport const effective_rate = ({ taxpayer_table_in, taxpayer_id_in, paye_table_in, tax_credit_proposed_in, prsi_rate_in, usc_table_in }) => 1 - net_salary({ taxpayer_table_in, taxpayer_id_in, paye_table_in, tax_credit_proposed_in, prsi_rate_in, usc_table_in }) / gross_salary({ taxpayer_table_in, taxpayer_id_in });\n\nexport const prsi = ({ taxpayer_table_in, taxpayer_id_in, prsi_rate_in }) =>\ngross_salary({ taxpayer_table_in, taxpayer_id_in }) * prsi_rate({ prsi_rate_in }) * (gross_salary({ taxpayer_table_in, taxpayer_id_in }) > 352 * 52 ? 1 : 0); // todo feature flag RE threshold\n\nexport const prsi_rate_ = ({}) => 0.04;\n\n// USC, should be mostly abstracted to a table loader\n// issues: #11 #76\nexport const usc_table_ = ({}) => [\n{ band_id: 1, band_co: 12012, rate: 0.005 },\n{ band_id: 2, band_co: 21295, rate: 0.02 },\n{\n  band_id: 3,\n  band_co: 70144,\n  rate: 0.045 },\n\n{ band_id: 4, band_co: 0, rate: 0.08 }];\n\n\nexport const usc_band_id = ({ usc_band_id_in }) => usc_band_id_in;\n\nexport const usc_band_end = ({ usc_band_id_in, usc_table_in }) => {\n  if (usc_band_id({ usc_band_id_in }) == usc_table({ usc_table_in }).length) return 999999999;\n  return usc_table({ usc_table_in })[usc_band_id({ usc_band_id_in }) - 1].band_co;\n};\n\nexport const usc_band_start = ({ usc_band_id_in, usc_table_in }) => {\n  if (usc_band_id({ usc_band_id_in }) == 1) return 0;\n  return usc_table({ usc_table_in })[usc_band_id({ usc_band_id_in }) - 2].band_co;\n};\n\nexport const usc_rate = ({ usc_table_in, usc_band_id_in }) => usc_table({ usc_table_in })[usc_band_id({ usc_band_id_in }) - 1].rate;\n\nexport const usc_by_band_id = ({ usc_table_in, usc_band_id_in, taxpayer_table_in, taxpayer_id_in }) =>\nusc_rate({ usc_table_in, usc_band_id_in }) *\nMath.min(\nusc_band_end({ usc_band_id_in, usc_table_in }) - usc_band_start({ usc_band_id_in, usc_table_in }),\nMath.max(gross_salary({ taxpayer_table_in, taxpayer_id_in }) - usc_band_start({ usc_band_id_in, usc_table_in }), 0));\n\n\nexport const usc = ({ usc_table_in, taxpayer_table_in, taxpayer_id_in }) =>\nusc_table({ usc_table_in }).reduce(\n(a, v) => a + usc_by_band_id({ usc_table_in, taxpayer_table_in, taxpayer_id_in, usc_band_id_in: v.band_id }),\n0) * (\ngross_salary({ taxpayer_table_in, taxpayer_id_in }) > 13000 ? 1 : 0);\n\n// PAYE, \"\nexport const paye_table_ = ({}) => [\n{ band_id: 1, band_co: 36800, rate: 0.2 },\n{ band_id: 2, band_co: 100000, rate: 0.4 },\n{\n  band_id: 3,\n  band_co: 0,\n  rate: 0.4 }];\n\n\n\nexport const paye_band_id = ({ paye_band_id_in }) => paye_band_id_in;\n\nexport const paye_band_end = ({ paye_band_id_in, paye_table_in }) => {\n  if (paye_band_id({ paye_band_id_in }) == paye_table({ paye_table_in }).length) return 999999999;\n  return paye_table({ paye_table_in })[paye_band_id({ paye_band_id_in }) - 1].band_co;\n};\n\nexport const paye_band_start = ({ paye_band_id_in, paye_table_in }) => {\n  if (paye_band_id({ paye_band_id_in }) == 1) return 0;\n  return paye_table({ paye_table_in })[paye_band_id({ paye_band_id_in }) - 2].band_co;\n};\n\nexport const paye_rate = ({ paye_table_in, paye_band_id_in }) => paye_table({ paye_table_in })[paye_band_id({ paye_band_id_in }) - 1].rate;\n\nexport const paye_by_band_id = ({ paye_table_in, paye_band_id_in, taxpayer_table_in, taxpayer_id_in }) =>\npaye_rate({ paye_table_in, paye_band_id_in }) *\nMath.min(\npaye_band_end({ paye_band_id_in, paye_table_in }) - paye_band_start({ paye_band_id_in, paye_table_in }),\nMath.max(gross_salary({ taxpayer_table_in, taxpayer_id_in }) - paye_band_start({ paye_band_id_in, paye_table_in }), 0));\n\n\nexport const paye_over_bands = ({ paye_table_in, taxpayer_table_in, taxpayer_id_in }) =>\nMath.max(\n0,\npaye_table({ paye_table_in }).reduce(\n(a, v) => a + paye_by_band_id({ paye_table_in, taxpayer_table_in, taxpayer_id_in, paye_band_id_in: v.band_id }),\n0)\n//- tax_credit() // input not working here => placed outside. Issue #95\n);\n\nexport const paye = ({ paye_table_in, taxpayer_table_in, taxpayer_id_in, tax_credit_proposed_in }) => Math.max(paye_over_bands({ paye_table_in, taxpayer_table_in, taxpayer_id_in }) - tax_credit({ tax_credit_proposed_in }), 0);"]}
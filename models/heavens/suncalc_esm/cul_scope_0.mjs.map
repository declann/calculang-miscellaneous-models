{"version":3,"names":["date","date_in","lat","lat_in","lng","lng_in","dayMs","J1970","J2000","rad","Math","PI","sin","cos","tan","asin","atan","atan2","acos","e","lw","phi","julian_1","valueOf","l","l_in","b","b_in","right_ascension","declination","dec","dec_in","azimuth","obj_in","H","altitude","sidereal_time","obj","solar_mean_anomaly","console","error","equation_of_center","perihelion_of_earth","ecliptic_longitude","declination_L0","right_ascension_L0","azimuth_obj","altitude_obj"],"sources":["suncalc.cul.js"],"sourcesContent":["// based on formulae in SunCalc,\n// https://github.com/mourner/suncalc\n// SunCalc is (c) Vladimir Agafonkin (http://agafonkin.com/en)\n\n// SunCalc readme:\n// \"Most calculations are based on the formulas given in the excellent Astronomy Answers articles\n// about [position of the sun](http://aa.quae.nl/en/reken/zonpositie.html)\n// and [the planets](http://aa.quae.nl/en/reken/hemelpositie.html).\"\n\n// ideas: compare/rec against Mike Bostock solar-calculator module on npm, and/or NOAA s/s on which solar-calculator based.\n// + https://observablehq.com/@mourner/sun-position-in-900-bytes\n//   ^ \"more precise\" \"based on formulas from the 2nd edition of [Jean Meeus's \"Astronomical Algorithms\" book](https://www.willbell.com/math/mc1.htm)\" \n\nexport const date = ({ date_in }) => date_in;\nexport const lat = ({ lat_in }) => lat_in;\nexport const lng = ({ lng_in }) => lng_in;\n\n// \"date/time constants and conversions\"\nexport const dayMs = ({}) => 1000 * 60 * 60 * 24;\nexport const J1970 = ({}) => 2440588;\nexport const J2000 = ({}) => 2451545;\nexport const rad = ({}) => Math.PI / 180;\n\n// bad form?\nvar PI = Math.PI,\n  sin = Math.sin,\n  cos = Math.cos,\n  tan = Math.tan,\n  asin = Math.asin,\n  atan = Math.atan2,\n  acos = Math.acos;\n\nexport const e = ({}) => rad({}) * 23.4397; // obliquity of the Earth\n\nexport const lw = ({ lng_in }) => rad({}) * -lng({ lng_in });\nexport const phi = ({ lat_in }) => rad({}) * lat({ lat_in });\n\nexport const julian_1 = ({ date_in }) => date({ date_in }).valueOf() / dayMs({}) - 0.5 + J1970({}) - J2000({}); // fn on date_in\n\n//// right_ascension, declination locked input structure\nexport const l = ({ l_in }) => l_in;\nexport const b = ({ b_in }) => b_in;\n\nexport const right_ascension = ({ l_in, b_in }) =>\natan(sin(l({ l_in })) * cos(e({})) - tan(b({ b_in })) * sin(e({})), cos(l({ l_in })));\nexport const declination = ({ b_in, l_in }) =>\nasin(sin(b({ b_in })) * cos(e({})) + cos(b({ b_in })) * sin(e({})) * sin(l({ l_in })));\n\n/// azimuth, altitude ~~locked~~ input structure\n//export const H = () => H_in;\n//export const phi = () => phi_in;\nexport const dec = ({ dec_in }) => dec_in;\n\nexport const azimuth = ({ date_in, lng_in, obj_in, lat_in, dec_in }) =>\natan(sin(H({ date_in, lng_in, obj_in })), cos(H({ date_in, lng_in, obj_in })) * sin(phi({ lat_in })) - tan(dec({ dec_in })) * cos(phi({ lat_in }))); // some refactors to function might help here\nexport const altitude = ({ lat_in, dec_in, date_in, lng_in, obj_in }) =>\nasin(sin(phi({ lat_in })) * sin(dec({ dec_in })) + cos(phi({ lat_in })) * cos(dec({ dec_in })) * cos(H({ date_in, lng_in, obj_in })));\n\n//export const lw = () => lw_in;\nexport const sidereal_time = ({ date_in, lng_in }) =>\nrad({}) * (280.16 + 360.9856235 * julian_1({ date_in })) - lw({ lng_in });\n\n// abstract sun, moon values via obj_in\nexport const obj = ({ obj_in }) => obj_in;\nexport const solar_mean_anomaly = ({ obj_in, date_in }) => {\n  if (obj({ obj_in }) == 'sun') return rad({}) * (357.5291 + 0.98560028 * julian_1({ date_in }));else\n  if (obj({ obj_in }) == 'moon') return rad({}) * (134.963 + 13.064993 * julian_1({ date_in }));else\n  console.error('obj not sun or moon');\n};\n\nexport const equation_of_center = ({ obj_in, date_in }) =>\nrad({}) * (\n1.9148 * sin(solar_mean_anomaly({ obj_in, date_in })) +\n0.02 * sin(2 * solar_mean_anomaly({ obj_in, date_in })) +\n0.0003 * sin(3 * solar_mean_anomaly({ obj_in, date_in })));\n\nexport const perihelion_of_earth = ({}) => rad({}) * 102.9372;\n\nexport const ecliptic_longitude = ({ obj_in, date_in }) =>\nMath.PI + solar_mean_anomaly({ obj_in, date_in }) + equation_of_center({ obj_in, date_in }) + perihelion_of_earth({});\n\n// sunCoords outputs (still intermediate)\n// naming convention? (L, 0) / _obj?\nexport const declination_L0 = ({ obj_in, date_in }) =>\ndeclination({ l_in: ecliptic_longitude({ obj_in, date_in }), b_in: 0 });\nexport const right_ascension_L0 = ({ obj_in, date_in }) =>\nright_ascension({ l_in: ecliptic_longitude({ obj_in, date_in }), b_in: 0 });\n\nexport const H = ({ date_in, lng_in, obj_in }) => sidereal_time({ date_in, lng_in }) - right_ascension_L0({ obj_in, date_in });\n\n// outputs\nexport const azimuth_obj = ({ date_in, lng_in, obj_in, lat_in }) => azimuth({ date_in, lng_in, obj_in, lat_in, dec_in: declination_L0({ obj_in, date_in }) });\nexport const altitude_obj = ({ lat_in, date_in, lng_in, obj_in }) => altitude({ lat_in, date_in, lng_in, obj_in, dec_in: declination_L0({ obj_in, date_in }) });\n\n// moon calcs in suncalc have an astroRefraction param I didn't build?\n// also some other error?\n// but sun recs closer from a few tests"],"mappings":"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"}
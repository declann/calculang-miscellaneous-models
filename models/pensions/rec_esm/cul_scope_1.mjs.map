{"version":3,"names":["age","age_in","age_0","retirement_age","annual_salary_0","salary_inflation_rate","empee_contribution_rate","unit_growth_rate","fund_value_0","fund_value","rec_step_in","age_opening_in","age_closing_in","unit_balance","unit_price","unit_allocation","annual_premium","annual_salary","projected_fund_value"],"sources":["projected.cul.js"],"sourcesContent":["export const age = () => age_in;\nexport const age_0 = () => 20;\nexport const retirement_age = () => 65;\nexport const annual_salary_0 = () => 30000;\nexport const salary_inflation_rate = () => 0.02;\nexport const empee_contribution_rate = () => 0.1;\nexport const unit_growth_rate = () => 0.05;\nexport const fund_value_0 = () => 0;\n\n// disclaimer: This is a work-in-progress model released for some calculang/tooling demonstration purposes and numbers shouldn't be relied upon; there are known model issues.\n\n// this model should prob. be broken into some modular pieces, but it isn't because it definitely needs memoisation, which is currently only working for non-modular models\n\nexport const fund_value = () => unit_balance() * unit_price(); // not allowing for multiple funds now\n\nexport const unit_balance = () => {\n  if (age() <= age_0() - 1)\n    return (\n      fund_value_0() / unit_price()\n    ); // was caught by stack error because of no lower bound! static analysis!\n  else return unit_balance({ age_in: age() - 1 }) + unit_allocation();\n  // timing = premium received at start of year and allocated immediately\n};\n\nexport const unit_allocation = () => annual_premium() / unit_price(); // TODO model a contribution charge\nexport const unit_price = () => {\n  // no b/o spread. Should this part be in terms of age ?\n  if (age() <= age_0()) return 1;\n  else return unit_price({ age_in: age() - 1 }) * (1 + unit_growth_rate());\n};\n\nexport const annual_premium = () => {\n  if (age() <= age_0() - 1 || age() == retirement_age()) return 0;\n  else return annual_salary({ age_in: age() - 1 }) * empee_contribution_rate();\n};\n\n// at end of year\nexport const annual_salary = () => {\n  if (age() <= age_0() - 1) return annual_salary_0();\n  else if (age() >= retirement_age()) return 0;\n  else\n    return annual_salary({ age_in: age() - 1 }) * (1 + salary_inflation_rate()); // < age_0 = undefined, any way/use to capture this statically?\n};\n\n// at retirement:\nexport const projected_fund_value = () =>\n  fund_value({ age_in: retirement_age() });\n\n// explicit inputs ::\n"],"mappings":"ynBAAA,OAAO,MAAMA,GAAG,GAAGA,CAAA,EAAAC,MAAA,OAAMA,MAAM;AAC/B,OAAO,MAAMC,KAAK,GAAGA,CAAA,OAAM,EAAE;AAC7B,OAAO,MAAMC,cAAc,GAAGA,CAAA,OAAM,EAAE;AACtC,OAAO,MAAMC,eAAe,GAAGA,CAAA,OAAM,KAAK;AAC1C,OAAO,MAAMC,sBAAqB,GAAGA,CAAA,OAAM,IAAI;AAC/C,OAAO,MAAMC,wBAAuB,GAAGA,CAAA,OAAM,GAAG;AAChD,OAAO,MAAMC,iBAAgB,GAAGA,CAAA,OAAM,IAAI;AAC1C,OAAO,MAAMC,YAAY,GAAGA,CAAA,OAAM,CAAC;;AAEnC;;AAEA;;AAEA,OAAO,MAAMC,UAAU,GAAGA,CAAA,EAAAR,MAAA,EAAAS,WAAA,EAAAC,cAAA,EAAAC,cAAA,OAAMC,YAAY,GAAAZ,MAAA,EAAAS,WAAA,EAAAC,cAAA,EAAAC,cAAA,GAAE,GAAGE,UAAU,GAAAb,MAAA,GAAE,CAAC,CAAC;;AAE/D,OAAO,MAAMY,YAAY,GAAGA,CAAA,EAAAZ,MAAA,EAAAS,WAAA,EAAAC,cAAA,EAAAC,cAAA,OAAM;EAChC,IAAIZ,GAAG,GAAAC,MAAA,GAAE,IAAIC,KAAK,IAAE,GAAG,CAAC;EACtB;IACEM,YAAY,IAAE,GAAGM,UAAU,GAAAb,MAAA,GAAE;EAC5B;EAAA,KACA,OAAOY,YAAY,GAAAH,WAAA,EAAAC,cAAA,EAAAC,cAAA,EAAGX,MAAM,EAAED,GAAG,GAAAC,MAAA,GAAE,GAAG,CAAC,GAAG,GAAGc,eAAe,GAAAd,MAAA,EAAAS,WAAA,EAAAC,cAAA,EAAAC,cAAA,GAAE;EACnE;AACF,CAAC;;AAED,OAAO,MAAMG,eAAe,GAAGA,CAAA,EAAAd,MAAA,EAAAS,WAAA,EAAAC,cAAA,EAAAC,cAAA,OAAMI,cAAc,GAAAf,MAAA,EAAAS,WAAA,EAAAC,cAAA,EAAAC,cAAA,GAAE,GAAGE,UAAU,GAAAb,MAAA,GAAE,CAAC,CAAC;AACtE,OAAO,MAAMa,UAAU,GAAGA,CAAA,EAAAb,MAAA,OAAM;EAC9B;EACA,IAAID,GAAG,GAAAC,MAAA,GAAE,IAAIC,KAAK,IAAE,EAAE,OAAO,CAAC,CAAC;EAC1B,OAAOY,UAAU,GAAGb,MAAM,EAAED,GAAG,GAAAC,MAAA,GAAE,GAAG,CAAC,GAAG,IAAI,CAAC,GAAGM,gBAAgB,IAAE,CAAC;AAC1E,CAAC;;AAED,OAAO,MAAMS,cAAc,GAAGA,CAAA,EAAAf,MAAA,EAAAS,WAAA,EAAAC,cAAA,EAAAC,cAAA,OAAM;EAClC,IAAIZ,GAAG,GAAAC,MAAA,GAAE,IAAIC,KAAK,IAAE,GAAG,CAAC,IAAIF,GAAG,GAAAC,MAAA,GAAE,IAAIE,cAAc,IAAE,EAAE,OAAO,CAAC,CAAC;EAC3D,OAAOc,aAAa,GAAAP,WAAA,EAAAC,cAAA,EAAAC,cAAA,EAAGX,MAAM,EAAED,GAAG,GAAAC,MAAA,GAAE,GAAG,CAAC,GAAG,GAAGK,uBAAuB,IAAE;AAC9E,CAAC;;AAED;AACA,OAAO,MAAMW,aAAa,GAAGA,CAAA,EAAAhB,MAAA,EAAAS,WAAA,EAAAC,cAAA,EAAAC,cAAA,OAAM;EACjC,IAAIZ,GAAG,GAAAC,MAAA,GAAE,IAAIC,KAAK,IAAE,GAAG,CAAC,EAAE,OAAOE,eAAe,IAAE,CAAC;EAC9C,IAAIJ,GAAG,GAAAC,MAAA,GAAE,IAAIE,cAAc,IAAE,EAAE,OAAO,CAAC,CAAC;;EAE3C,OAAOc,aAAa,GAAAP,WAAA,EAAAC,cAAA,EAAAC,cAAA,EAAGX,MAAM,EAAED,GAAG,GAAAC,MAAA,GAAE,GAAG,CAAC,GAAG,IAAI,CAAC,GAAGI,qBAAqB,GAAAJ,MAAA,EAAAS,WAAA,EAAAC,cAAA,EAAAC,cAAA,GAAE,CAAC,CAAC,CAAC;AACjF,CAAC;;AAED;AACA,OAAO,MAAMM,oBAAoB,GAAGA,CAAA,EAAAR,WAAA,EAAAC,cAAA,EAAAC,cAAA;AAClCH,UAAU,GAAAC,WAAA,EAAAC,cAAA,EAAAC,cAAA,EAAGX,MAAM,EAAEE,cAAc,IAAE,GAAG;;AAE1C"}
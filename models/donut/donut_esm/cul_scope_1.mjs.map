{"version":3,"sources":["donut.cul.js"],"names":["L","yp","xp","z","y","x","circley","circlex","sinPhi","cosPhi","sinTheta","cosTheta","sinB","cosB","sinA","cosA","phi","theta","screen_height","screen_width","K1","K2","frame","B","A","R2","R1","R1_","R1_in","R2_","R2_in","A_","frame_in","B_","frame_","K2_","K2_in","K1_","K1_in","screen_width_","screen_width_in","screen_height_","screen_height_in","theta_","theta_in","phi_","phi_in","cosA_","Math","cos","sinA_","sin","cosB_","sinB_","cosTheta_","sinTheta_","cosPhi_","sinPhi_","circlex_","circley_","x_","y_","z_","xp_","yp_","L_"],"mappings":"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","sourcesContent":["import { L } from \"./donut.cul.js\";import { yp } from \"./donut.cul.js\";import { xp } from \"./donut.cul.js\";import { z } from \"./donut.cul.js\";import { y } from \"./donut.cul.js\";import { x } from \"./donut.cul.js\";import { circley } from \"./donut.cul.js\";import { circlex } from \"./donut.cul.js\";import { sinPhi } from \"./donut.cul.js\";import { cosPhi } from \"./donut.cul.js\";import { sinTheta } from \"./donut.cul.js\";import { cosTheta } from \"./donut.cul.js\";import { sinB } from \"./donut.cul.js\";import { cosB } from \"./donut.cul.js\";import { sinA } from \"./donut.cul.js\";import { cosA } from \"./donut.cul.js\";import { phi } from \"./donut.cul.js\";import { theta } from \"./donut.cul.js\";import { screen_height } from \"./donut.cul.js\";import { screen_width } from \"./donut.cul.js\";import { K1 } from \"./donut.cul.js\";import { K2 } from \"./donut.cul.js\";import { frame } from \"./donut.cul.js\";import { B } from \"./donut.cul.js\";import { A } from \"./donut.cul.js\";import { R2 } from \"./donut.cul.js\";import { R1 } from \"./donut.cul.js\"; // this code reflects math and code listings written by Andy Sloane in:\n//  https://www.a1k0n.net/2011/07/20/donut-math.html\n// interesting to compare iterative vs. functional style in approach.\n// also interesting to compare separation of concerns.\n// go to Andys blog (also https://www.a1k0n.net/2021/01/13/optimizing-donut.html)\n// to understand the math in this hurried conversion!\n// soon I will elaborate specifically on how calculang can be used to understand the math/numbers.\n\n// torus params\nexport const R1_ = ({ R1_in }) => R1_in;\nexport const R2_ = ({ R2_in }) => R2_in;\n// rotations time params\n//export const A = () => A_in;\n//export const B = () => B_in;\nexport const A_ = ({ frame_in }) => 1 + 0.07 * frame({ frame_in });\nexport const B_ = ({ frame_in }) => 1 + 0.03 * frame({ frame_in });\nexport const frame_ = ({ frame_in }) => frame_in;\n\nexport const K2_ = ({ K2_in }) => K2_in;\nexport const K1_ = ({ K1_in }) => K1_in; //(screen_width() * K2() * 3) / (8 * (R1() + R2()));\nexport const screen_width_ = ({ screen_width_in }) => screen_width_in;\nexport const screen_height_ = ({ screen_height_in }) => screen_height_in;\n\n// around the cross-sectional circle of torus domain 0-2pi\nexport const theta_ = ({ theta_in }) => theta_in;\n// around center of revolution of torus domain 0-2pi\nexport const phi_ = ({ phi_in }) => phi_in;\n\n// just for convenience/introspection\nexport const cosA_ = ({ frame_in }) => Math.cos(A({ frame_in }));\nexport const sinA_ = ({ frame_in }) => Math.sin(A({ frame_in }));\nexport const cosB_ = ({ frame_in }) => Math.cos(B({ frame_in }));\nexport const sinB_ = ({ frame_in }) => Math.sin(B({ frame_in }));\nexport const cosTheta_ = ({ theta_in }) => Math.cos(theta({ theta_in }));\nexport const sinTheta_ = ({ theta_in }) => Math.sin(theta({ theta_in }));\nexport const cosPhi_ = ({ phi_in }) => Math.cos(phi({ phi_in }));\nexport const sinPhi_ = ({ phi_in }) => Math.sin(phi({ phi_in }));\n\n// (x,y) coordinates of circle before revolving:\nexport const circlex_ = ({ R2_in, R1_in, theta_in }) => R2({ R2_in }) + R1({ R1_in }) * cosTheta({ theta_in });\nexport const circley_ = ({ R1_in, theta_in }) => R1({ R1_in }) * sinTheta({ theta_in });\n\n// (x,y,z) coordinates after rotations:\n// [for math: https://www.a1k0n.net/2011/07/20/donut-math.html]\nexport const x_ = ({ R2_in, R1_in, theta_in, frame_in, phi_in }) =>\ncirclex({ R2_in, R1_in, theta_in }) * (cosB({ frame_in }) * cosPhi({ phi_in }) + sinA({ frame_in }) * sinB({ frame_in }) * sinPhi({ phi_in }));\n\nexport const y_ = ({ R2_in, R1_in, theta_in, frame_in, phi_in }) =>\ncirclex({ R2_in, R1_in, theta_in }) * (sinB({ frame_in }) * cosPhi({ phi_in }) - sinA({ frame_in }) * cosB({ frame_in }) * sinPhi({ phi_in })) +\ncircley({ R1_in, theta_in }) * cosA({ frame_in }) * cosB({ frame_in });\n\nexport const z_ = ({ K2_in, frame_in, R2_in, R1_in, theta_in, phi_in }) =>\nK2({ K2_in }) + cosA({ frame_in }) * circlex({ R2_in, R1_in, theta_in }) * sinPhi({ phi_in }) + circley({ R1_in, theta_in }) * sinA({ frame_in });\n\n// coordinates in 2d projection\nexport const xp_ = ({ screen_width_in, K1_in, R2_in, R1_in, theta_in, frame_in, phi_in, K2_in }) => screen_width({ screen_width_in }) / 2 + K1({ K1_in }) * x({ R2_in, R1_in, theta_in, frame_in, phi_in }) / z({ K2_in, frame_in, R2_in, R1_in, theta_in, phi_in });\nexport const yp_ = ({ screen_height_in, K1_in, R2_in, R1_in, theta_in, frame_in, phi_in, K2_in }) => screen_height({ screen_height_in }) / 2 - K1({ K1_in }) * y({ R2_in, R1_in, theta_in, frame_in, phi_in }) / z({ K2_in, frame_in, R2_in, R1_in, theta_in, phi_in });\n\nexport const L_ = ({ phi_in, theta_in, frame_in }) =>\ncosPhi({ phi_in }) * cosTheta({ theta_in }) * sinB({ frame_in }) -\ncosA({ frame_in }) * cosTheta({ theta_in }) * sinPhi({ phi_in }) -\nsinA({ frame_in }) * sinTheta({ theta_in }) +\ncosB({ frame_in }) * (cosA({ frame_in }) * sinTheta({ theta_in }) - cosTheta({ theta_in }) * sinA({ frame_in }) * sinPhi({ phi_in }));"]}
{"version":3,"sources":["donut.cul.js"],"names":["L","yp","xp","z","y","x","circley","circlex","sinPhi","cosPhi","sinTheta","cosTheta","sinB","cosB","sinA","cosA","phi","theta","screen_height","screen_width","K1","K2","frame","B","A","R2","R1","R1_","R1_in","R2_","R2_in","A_","frame_in","B_","frame_","K2_","K2_in","K1_","screen_width_in","screen_width_","screen_height_","screen_height_in","theta_","theta_in","phi_","phi_in","cosA_","Math","cos","sinA_","sin","cosB_","sinB_","cosTheta_","sinTheta_","cosPhi_","sinPhi_","circlex_","circley_","x_","y_","z_","xp_","yp_","L_"],"mappings":"AAAA,SAASA,CAAT,QAAkB,mBAAlB,CAAmC,SAASC,EAAT,QAAmB,mBAAnB,CAAoC,SAASC,EAAT,QAAmB,mBAAnB,CAAoC,SAASC,CAAT,QAAkB,mBAAlB,CAAmC,SAASC,CAAT,QAAkB,mBAAlB,CAAmC,SAASC,CAAT,QAAkB,mBAAlB,CAAmC,SAASC,OAAT,QAAwB,mBAAxB,CAAyC,SAASC,OAAT,QAAwB,mBAAxB,CAAyC,SAASC,MAAT,QAAuB,mBAAvB,CAAwC,SAASC,MAAT,QAAuB,mBAAvB,CAAwC,SAASC,QAAT,QAAyB,mBAAzB,CAA0C,SAASC,QAAT,QAAyB,mBAAzB,CAA0C,SAASC,IAAT,QAAqB,mBAArB,CAAsC,SAASC,IAAT,QAAqB,mBAArB,CAAsC,SAASC,IAAT,QAAqB,mBAArB,CAAsC,SAASC,IAAT,QAAqB,mBAArB,CAAsC,SAASC,GAAT,QAAoB,mBAApB,CAAqC,SAASC,KAAT,QAAsB,mBAAtB,CAAuC,SAASC,aAAT,QAA8B,mBAA9B,CAA+C,SAASC,YAAT,QAA6B,mBAA7B,CAA8C,SAASC,EAAT,QAAmB,mBAAnB,CAAoC,SAASC,EAAT,QAAmB,mBAAnB,CAAoC,SAASC,KAAT,QAAsB,mBAAtB,CAAuC,SAASC,CAAT,QAAkB,mBAAlB,CAAmC,SAASC,CAAT,QAAkB,mBAAlB,CAAmC,SAASC,EAAT,QAAmB,mBAAnB,CAAoC,SAASC,EAAT,QAAmB,mBAAnB,C,CAAqC;AACzgC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO,MAAMC,GAAG,GAAG,CAAC,EAAEC,KAAF,EAAD,KAAeA,KAA3B;AACP,OAAO,MAAMC,GAAG,GAAG,CAAC,EAAEC,KAAF,EAAD,KAAeA,KAA3B;AACP;AACA;AACA;AACA,OAAO,MAAMC,EAAE,GAAG,CAAC,EAAEC,QAAF,EAAD,KAAkB,IAAI,OAAOV,KAAK,CAAC,EAAEU,QAAF,EAAD,CAA7C;AACP,OAAO,MAAMC,EAAE,GAAG,CAAC,EAAED,QAAF,EAAD,KAAkB,IAAI,OAAOV,KAAK,CAAC,EAAEU,QAAF,EAAD,CAA7C;AACP,OAAO,MAAME,MAAM,GAAG,CAAC,EAAEF,QAAF,EAAD,KAAkBA,QAAjC;;AAEP,OAAO,MAAMG,GAAG,GAAG,CAAC,EAAEC,KAAF,EAAD,KAAeA,KAA3B;AACP,OAAO,MAAMC,GAAG,GAAG,CAAC,EAAEC,eAAF,EAAmBF,KAAnB,EAA0BR,KAA1B,EAAiCE,KAAjC,EAAD,KAA8CX,YAAY,CAAC,EAAEmB,eAAF,EAAD,CAAZ,GAAoCjB,EAAE,CAAC,EAAEe,KAAF,EAAD,CAAtC,GAAoD,CAApD,IAAyD,KAAKV,EAAE,CAAC,EAAEE,KAAF,EAAD,CAAF,GAAgBH,EAAE,CAAC,EAAEK,KAAF,EAAD,CAAvB,CAAzD,CAA1D;AACP,OAAO,MAAMS,aAAa,GAAG,CAAC,EAAED,eAAF,EAAD,KAAyBA,eAA/C;AACP,OAAO,MAAME,cAAc,GAAG,CAAC,EAAEC,gBAAF,EAAD,KAA0BA,gBAAjD;;AAEP;AACA,OAAO,MAAMC,MAAM,GAAG,CAAC,EAAEC,QAAF,EAAD,KAAkBA,QAAjC;AACP;AACA,OAAO,MAAMC,IAAI,GAAG,CAAC,EAAEC,MAAF,EAAD,KAAgBA,MAA7B;;AAEP;AACA,OAAO,MAAMC,KAAK,GAAG,CAAC,EAAEd,QAAF,EAAD,KAAkBe,IAAI,CAACC,GAAL,CAASxB,CAAC,CAAC,EAAEQ,QAAF,EAAD,CAAV,CAAhC;AACP,OAAO,MAAMiB,KAAK,GAAG,CAAC,EAAEjB,QAAF,EAAD,KAAkBe,IAAI,CAACG,GAAL,CAAS1B,CAAC,CAAC,EAAEQ,QAAF,EAAD,CAAV,CAAhC;AACP,OAAO,MAAMmB,KAAK,GAAG,CAAC,EAAEnB,QAAF,EAAD,KAAkBe,IAAI,CAACC,GAAL,CAASzB,CAAC,CAAC,EAAES,QAAF,EAAD,CAAV,CAAhC;AACP,OAAO,MAAMoB,KAAK,GAAG,CAAC,EAAEpB,QAAF,EAAD,KAAkBe,IAAI,CAACG,GAAL,CAAS3B,CAAC,CAAC,EAAES,QAAF,EAAD,CAAV,CAAhC;AACP,OAAO,MAAMqB,SAAS,GAAG,CAAC,EAAEV,QAAF,EAAD,KAAkBI,IAAI,CAACC,GAAL,CAAS/B,KAAK,CAAC,EAAE0B,QAAF,EAAD,CAAd,CAApC;AACP,OAAO,MAAMW,SAAS,GAAG,CAAC,EAAEX,QAAF,EAAD,KAAkBI,IAAI,CAACG,GAAL,CAASjC,KAAK,CAAC,EAAE0B,QAAF,EAAD,CAAd,CAApC;AACP,OAAO,MAAMY,OAAO,GAAG,CAAC,EAAEV,MAAF,EAAD,KAAgBE,IAAI,CAACC,GAAL,CAAShC,GAAG,CAAC,EAAE6B,MAAF,EAAD,CAAZ,CAAhC;AACP,OAAO,MAAMW,OAAO,GAAG,CAAC,EAAEX,MAAF,EAAD,KAAgBE,IAAI,CAACG,GAAL,CAASlC,GAAG,CAAC,EAAE6B,MAAF,EAAD,CAAZ,CAAhC;;AAEP;AACA,OAAO,MAAMY,QAAQ,GAAG,CAAC,EAAE3B,KAAF,EAASF,KAAT,EAAgBe,QAAhB,EAAD,KAAgClB,EAAE,CAAC,EAAEK,KAAF,EAAD,CAAF,GAAgBJ,EAAE,CAAC,EAAEE,KAAF,EAAD,CAAF,GAAgBjB,QAAQ,CAAC,EAAEgC,QAAF,EAAD,CAAzF;AACP,OAAO,MAAMe,QAAQ,GAAG,CAAC,EAAE9B,KAAF,EAASe,QAAT,EAAD,KAAyBjB,EAAE,CAAC,EAAEE,KAAF,EAAD,CAAF,GAAgBlB,QAAQ,CAAC,EAAEiC,QAAF,EAAD,CAAlE;;AAEP;AACA;AACA,OAAO,MAAMgB,EAAE,GAAG,CAAC,EAAE7B,KAAF,EAASF,KAAT,EAAgBe,QAAhB,EAA0BX,QAA1B,EAAoCa,MAApC,EAAD;AAClBtC,OAAO,CAAC,EAAEuB,KAAF,EAASF,KAAT,EAAgBe,QAAhB,EAAD,CAAP,IAAuC9B,IAAI,CAAC,EAAEmB,QAAF,EAAD,CAAJ,GAAqBtB,QAAQ,CAAC,EAAEiC,QAAF,EAAD,CAA7B,GAA8ChC,QAAQ,CAAC,EAAEgC,QAAF,EAAD,CAAR,GAAyB7B,IAAI,CAAC,EAAEkB,QAAF,EAAD,CAA7B,GAA8CxB,MAAM,CAAC,EAAEqC,MAAF,EAAD,CAAzI,CADO;;AAGP,OAAO,MAAMe,EAAE,GAAG,CAAC,EAAE9B,KAAF,EAASF,KAAT,EAAgBe,QAAhB,EAA0BX,QAA1B,EAAoCa,MAApC,EAAD;AAClBtC,OAAO,CAAC,EAAEuB,KAAF,EAASF,KAAT,EAAgBe,QAAhB,EAAD,CAAP,IAAuC/B,IAAI,CAAC,EAAEoB,QAAF,EAAD,CAAJ,GAAqBvB,MAAM,CAAC,EAAEoC,MAAF,EAAD,CAA3B,GAA0C/B,IAAI,CAAC,EAAEkB,QAAF,EAAD,CAAJ,GAAqBnB,IAAI,CAAC,EAAEmB,QAAF,EAAD,CAAzB,GAA0CxB,MAAM,CAAC,EAAEqC,MAAF,EAAD,CAAjI;AACAvC,OAAO,CAAC,EAAEsB,KAAF,EAASe,QAAT,EAAD,CAAP,GAA+B5B,IAAI,CAAC,EAAEiB,QAAF,EAAD,CAAnC,GAAoDnB,IAAI,CAAC,EAAEmB,QAAF,EAAD,CAFjD;;AAIP,OAAO,MAAM6B,EAAE,GAAG,CAAC,EAAEzB,KAAF,EAASJ,QAAT,EAAmBF,KAAnB,EAA0BF,KAA1B,EAAiCe,QAAjC,EAA2CE,MAA3C,EAAD;AAClBxB,EAAE,CAAC,EAAEe,KAAF,EAAD,CAAF,GAAgBrB,IAAI,CAAC,EAAEiB,QAAF,EAAD,CAAJ,GAAqBzB,OAAO,CAAC,EAAEuB,KAAF,EAASF,KAAT,EAAgBe,QAAhB,EAAD,CAA5B,GAA2DnC,MAAM,CAAC,EAAEqC,MAAF,EAAD,CAAjF,GAAgGvC,OAAO,CAAC,EAAEsB,KAAF,EAASe,QAAT,EAAD,CAAP,GAA+B7B,IAAI,CAAC,EAAEkB,QAAF,EAAD,CAD5H;;AAGP;AACA,OAAO,MAAM8B,GAAG,GAAG,CAAC,EAAExB,eAAF,EAAmBF,KAAnB,EAA0BR,KAA1B,EAAiCE,KAAjC,EAAwCa,QAAxC,EAAkDX,QAAlD,EAA4Da,MAA5D,EAAD,KAA0E1B,YAAY,CAAC,EAAEmB,eAAF,EAAD,CAAZ,GAAoC,CAApC,GAAwClB,EAAE,CAAC,EAAEkB,eAAF,EAAmBF,KAAnB,EAA0BR,KAA1B,EAAiCE,KAAjC,EAAD,CAAF,GAA+CzB,CAAC,CAAC,EAAEyB,KAAF,EAASF,KAAT,EAAgBe,QAAhB,EAA0BX,QAA1B,EAAoCa,MAApC,EAAD,CAAhD,GAAiG1C,CAAC,CAAC,EAAEiC,KAAF,EAASJ,QAAT,EAAmBF,KAAnB,EAA0BF,KAA1B,EAAiCe,QAAjC,EAA2CE,MAA3C,EAAD,CAAhO;AACP,OAAO,MAAMkB,GAAG,GAAG,CAAC,EAAEtB,gBAAF,EAAoBH,eAApB,EAAqCF,KAArC,EAA4CR,KAA5C,EAAmDE,KAAnD,EAA0Da,QAA1D,EAAoEX,QAApE,EAA8Ea,MAA9E,EAAD,KAA4F3B,aAAa,CAAC,EAAEuB,gBAAF,EAAD,CAAb,GAAsC,CAAtC,GAA0CrB,EAAE,CAAC,EAAEkB,eAAF,EAAmBF,KAAnB,EAA0BR,KAA1B,EAAiCE,KAAjC,EAAD,CAAF,GAA+C1B,CAAC,CAAC,EAAE0B,KAAF,EAASF,KAAT,EAAgBe,QAAhB,EAA0BX,QAA1B,EAAoCa,MAApC,EAAD,CAAhD,GAAiG1C,CAAC,CAAC,EAAEiC,KAAF,EAASJ,QAAT,EAAmBF,KAAnB,EAA0BF,KAA1B,EAAiCe,QAAjC,EAA2CE,MAA3C,EAAD,CAApP;;AAEP,OAAO,MAAMmB,EAAE,GAAG,CAAC,EAAEnB,MAAF,EAAUF,QAAV,EAAoBX,QAApB,EAAD;AAClBvB,MAAM,CAAC,EAAEoC,MAAF,EAAD,CAAN,GAAqBlC,QAAQ,CAAC,EAAEgC,QAAF,EAAD,CAA7B,GAA8C/B,IAAI,CAAC,EAAEoB,QAAF,EAAD,CAAlD;AACAjB,IAAI,CAAC,EAAEiB,QAAF,EAAD,CAAJ,GAAqBrB,QAAQ,CAAC,EAAEgC,QAAF,EAAD,CAA7B,GAA8CnC,MAAM,CAAC,EAAEqC,MAAF,EAAD,CADpD;AAEA/B,IAAI,CAAC,EAAEkB,QAAF,EAAD,CAAJ,GAAqBtB,QAAQ,CAAC,EAAEiC,QAAF,EAAD,CAF7B;AAGA9B,IAAI,CAAC,EAAEmB,QAAF,EAAD,CAAJ,IAAsBjB,IAAI,CAAC,EAAEiB,QAAF,EAAD,CAAJ,GAAqBtB,QAAQ,CAAC,EAAEiC,QAAF,EAAD,CAA7B,GAA8ChC,QAAQ,CAAC,EAAEgC,QAAF,EAAD,CAAR,GAAyB7B,IAAI,CAAC,EAAEkB,QAAF,EAAD,CAA7B,GAA8CxB,MAAM,CAAC,EAAEqC,MAAF,EAAD,CAAxH,CAJO","sourcesContent":["import { L } from \"./donut.cul.js\";import { yp } from \"./donut.cul.js\";import { xp } from \"./donut.cul.js\";import { z } from \"./donut.cul.js\";import { y } from \"./donut.cul.js\";import { x } from \"./donut.cul.js\";import { circley } from \"./donut.cul.js\";import { circlex } from \"./donut.cul.js\";import { sinPhi } from \"./donut.cul.js\";import { cosPhi } from \"./donut.cul.js\";import { sinTheta } from \"./donut.cul.js\";import { cosTheta } from \"./donut.cul.js\";import { sinB } from \"./donut.cul.js\";import { cosB } from \"./donut.cul.js\";import { sinA } from \"./donut.cul.js\";import { cosA } from \"./donut.cul.js\";import { phi } from \"./donut.cul.js\";import { theta } from \"./donut.cul.js\";import { screen_height } from \"./donut.cul.js\";import { screen_width } from \"./donut.cul.js\";import { K1 } from \"./donut.cul.js\";import { K2 } from \"./donut.cul.js\";import { frame } from \"./donut.cul.js\";import { B } from \"./donut.cul.js\";import { A } from \"./donut.cul.js\";import { R2 } from \"./donut.cul.js\";import { R1 } from \"./donut.cul.js\"; // this code reflects math and code listings written by Andy Sloane in:\n//  https://www.a1k0n.net/2011/07/20/donut-math.html\n// interesting to compare iterative vs. functional style in approach.\n// also interesting to compare separation of concerns.\n// go to Andys blog (also https://www.a1k0n.net/2021/01/13/optimizing-donut.html)\n// to understand the math in this hurried conversion!\n// soon I will elaborate specifically on how calculang can be used to understand the math/numbers.\n\n// torus params\nexport const R1_ = ({ R1_in }) => R1_in;\nexport const R2_ = ({ R2_in }) => R2_in;\n// rotations time params\n//export const A = () => A_in;\n//export const B = () => B_in;\nexport const A_ = ({ frame_in }) => 1 + 0.07 * frame({ frame_in });\nexport const B_ = ({ frame_in }) => 1 + 0.03 * frame({ frame_in });\nexport const frame_ = ({ frame_in }) => frame_in;\n\nexport const K2_ = ({ K2_in }) => K2_in;\nexport const K1_ = ({ screen_width_in, K2_in, R1_in, R2_in }) => screen_width({ screen_width_in }) * K2({ K2_in }) * 3 / (8 * (R1({ R1_in }) + R2({ R2_in })));\nexport const screen_width_ = ({ screen_width_in }) => screen_width_in;\nexport const screen_height_ = ({ screen_height_in }) => screen_height_in;\n\n// around the cross-sectional circle of torus domain 0-2pi\nexport const theta_ = ({ theta_in }) => theta_in;\n// around center of revolution of torus domain 0-2pi\nexport const phi_ = ({ phi_in }) => phi_in;\n\n// just for convenience/introspection\nexport const cosA_ = ({ frame_in }) => Math.cos(A({ frame_in }));\nexport const sinA_ = ({ frame_in }) => Math.sin(A({ frame_in }));\nexport const cosB_ = ({ frame_in }) => Math.cos(B({ frame_in }));\nexport const sinB_ = ({ frame_in }) => Math.sin(B({ frame_in }));\nexport const cosTheta_ = ({ theta_in }) => Math.cos(theta({ theta_in }));\nexport const sinTheta_ = ({ theta_in }) => Math.sin(theta({ theta_in }));\nexport const cosPhi_ = ({ phi_in }) => Math.cos(phi({ phi_in }));\nexport const sinPhi_ = ({ phi_in }) => Math.sin(phi({ phi_in }));\n\n// (x,y) coordinates of circle before revolving:\nexport const circlex_ = ({ R2_in, R1_in, theta_in }) => R2({ R2_in }) + R1({ R1_in }) * cosTheta({ theta_in });\nexport const circley_ = ({ R1_in, theta_in }) => R1({ R1_in }) * sinTheta({ theta_in });\n\n// (x,y,z) coordinates after rotations:\n// [for math: https://www.a1k0n.net/2011/07/20/donut-math.html]\nexport const x_ = ({ R2_in, R1_in, theta_in, frame_in, phi_in }) =>\ncirclex({ R2_in, R1_in, theta_in }) * (cosB({ frame_in }) * sinTheta({ theta_in }) - cosTheta({ theta_in }) * sinA({ frame_in }) * sinPhi({ phi_in }));\n\nexport const y_ = ({ R2_in, R1_in, theta_in, frame_in, phi_in }) =>\ncirclex({ R2_in, R1_in, theta_in }) * (sinB({ frame_in }) * cosPhi({ phi_in }) - sinA({ frame_in }) * cosB({ frame_in }) * sinPhi({ phi_in })) +\ncircley({ R1_in, theta_in }) * cosA({ frame_in }) * cosB({ frame_in });\n\nexport const z_ = ({ K2_in, frame_in, R2_in, R1_in, theta_in, phi_in }) =>\nK2({ K2_in }) + cosA({ frame_in }) * circlex({ R2_in, R1_in, theta_in }) * sinPhi({ phi_in }) + circley({ R1_in, theta_in }) * sinA({ frame_in });\n\n// coordinates in 2d projection\nexport const xp_ = ({ screen_width_in, K2_in, R1_in, R2_in, theta_in, frame_in, phi_in }) => screen_width({ screen_width_in }) / 2 + K1({ screen_width_in, K2_in, R1_in, R2_in }) * x({ R2_in, R1_in, theta_in, frame_in, phi_in }) / z({ K2_in, frame_in, R2_in, R1_in, theta_in, phi_in });\nexport const yp_ = ({ screen_height_in, screen_width_in, K2_in, R1_in, R2_in, theta_in, frame_in, phi_in }) => screen_height({ screen_height_in }) / 2 - K1({ screen_width_in, K2_in, R1_in, R2_in }) * y({ R2_in, R1_in, theta_in, frame_in, phi_in }) / z({ K2_in, frame_in, R2_in, R1_in, theta_in, phi_in });\n\nexport const L_ = ({ phi_in, theta_in, frame_in }) =>\ncosPhi({ phi_in }) * cosTheta({ theta_in }) * sinB({ frame_in }) -\ncosA({ frame_in }) * cosTheta({ theta_in }) * sinPhi({ phi_in }) -\nsinA({ frame_in }) * sinTheta({ theta_in }) +\ncosB({ frame_in }) * (cosA({ frame_in }) * sinTheta({ theta_in }) - cosTheta({ theta_in }) * sinA({ frame_in }) * sinPhi({ phi_in }));"]}
{"version":3,"sources":["payroll.cul.js"],"names":["usc_table","band_id","band_co","rate","usc_band_id","usc_band_id_in","usc_band_end","pay_period_duration_in","time_in","factor_for_credits_and_bands","usc_band_start","usc_rate","usc_taxable_salary","pay_period_in","op_gross_salary_in","pay_period_gross_salary_in","fut_gross_salary_in","gross_salary","usc_by_band_id","usc_taxable_by_band_id","Math","min","max","usc","reduce","a","v","pay_period","pay_period_duration","op_gross_salary","pay_period_gross_salary","fut_gross_salary","time","usc_payable","paye_table","paye_band_id","paye_band_id_in","paye_band_end","length","paye_band_start","paye_rate","paye_taxable_salary","op_pension_contribution_in","pay_period_pension_contribution_in","fut_pension_contribution_in","pension_contribution","op_pension_contribution","pay_period_pension_contribution","fut_pension_contribution","paye_by_band_id","paye_taxable_by_band_id","paye_exempt","paye_over_bands","tax_credits_pa","tax_credits_pa_in","tax_credits","tax_credits_deducted","paye","paye_payable","income_tax","prsi","prsi_taxable_salary","prsi_rate","prsi_payable","net_salary"],"mappings":"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","sourcesContent":["// WIP\n\n// USC code adapted from simple-incometax.cul.js\n\n// USC, should be mostly abstracted to a table loader\n// issues: #11 #76\nexport const usc_table = ({}) => [\n{ band_id: 1, band_co: 12012, rate: 0.005 },\n{ band_id: 2, band_co: 21295, rate: 0.02 },\n{\n  band_id: 3,\n  band_co: 70044,\n  rate: 0.045 },\n\n{ band_id: 4, band_co: 999999999, rate: 0.08 }];\n\n\nexport const usc_band_id = ({ usc_band_id_in }) => usc_band_id_in;\n\nexport const usc_band_end = ({ usc_band_id_in, pay_period_duration_in, time_in }) => {\n  return (\n    usc_table({})[usc_band_id({ usc_band_id_in }) - 1].band_co * factor_for_credits_and_bands({ pay_period_duration_in, time_in }));\n\n};\n\nexport const usc_band_start = ({ usc_band_id_in, pay_period_duration_in, time_in }) => {\n  if (usc_band_id({ usc_band_id_in }) == 1) return 0;\n  return (\n    usc_table({})[usc_band_id({ usc_band_id_in }) - 2].band_co * factor_for_credits_and_bands({ pay_period_duration_in, time_in }));\n\n};\n\nexport const usc_rate = ({ usc_band_id_in }) => usc_table({})[usc_band_id({ usc_band_id_in }) - 1].rate;\n\nexport const usc_taxable_salary = ({ time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in }) => gross_salary({ time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in }); // pay usc on pension contribution\n\nexport const usc_by_band_id = ({ usc_band_id_in, pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in }) => usc_rate({ usc_band_id_in }) * usc_taxable_by_band_id({ usc_band_id_in, pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in });\n\nexport const usc_taxable_by_band_id = ({ usc_band_id_in, pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in }) =>\nMath.min(\nusc_band_end({ usc_band_id_in, pay_period_duration_in, time_in }) - usc_band_start({ usc_band_id_in, pay_period_duration_in, time_in }),\nMath.max(usc_taxable_salary({ time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in }) - usc_band_start({ usc_band_id_in, pay_period_duration_in, time_in }), 0));\n\n\nexport const usc = ({ pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in }) =>\nusc_table({}).reduce(\n(a, v) => a + usc_by_band_id({ pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in, usc_band_id_in: v.band_id }),\n0) *\n1; //(gross_salary() > 13000 ? 1 : 0);\n\n// end USC\n\nexport const pay_period = ({ pay_period_in }) => pay_period_in;\nexport const pay_period_duration = ({ pay_period_duration_in }) => pay_period_duration_in; // 'M' or 'W'\n\n// op = opening = pre current pay period, fut = after current pay period to end of year\nexport const op_gross_salary = ({ op_gross_salary_in }) => op_gross_salary_in;\nexport const pay_period_gross_salary = ({ pay_period_gross_salary_in }) => pay_period_gross_salary_in;\nexport const fut_gross_salary = ({ fut_gross_salary_in }) => fut_gross_salary_in;\nexport const gross_salary = ({ time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in }) => {\n  if (time({ time_in }) == pay_period({ pay_period_in }) - 1) return op_gross_salary({ op_gross_salary_in });else\n  if (time({ time_in }) == pay_period({ pay_period_in }))\n  return op_gross_salary({ op_gross_salary_in }) + pay_period_gross_salary({ pay_period_gross_salary_in });else\n  if (factor_for_credits_and_bands({ pay_period_duration_in, time_in }) == 1)\n  return op_gross_salary({ op_gross_salary_in }) + pay_period_gross_salary({ pay_period_gross_salary_in }) + fut_gross_salary({ fut_gross_salary_in });\n};\n/*\r\n  pay_period_gross_salary() +\r\n  op_gross_salary() + // following expression means I need to define fut_gross_salary_in even if it isn't used for op/current pay period\r\n  fut_gross_salary() * (factor_for_credits_and_bands == 1 ? 1 : 0);*/ // but fut gross salary into last pay period\n\n/*export const op_usc = () => usc({ pay_period_in: pay_period() - 1 });\r\nexport const op_usc_taxable_by_band_id = () => usc_taxable_by_band_id({ pay_period_in: pay_period() - 1 });*/ // leave this to application?\n//export const pay_period_usc = () => usc() - op_usc();\n\nexport const usc_payable = ({ pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in }) => usc({ pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in }) - usc({ pay_period_duration_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in, time_in: time({ time_in }) - 1 });\n\n// PAYE\n\nexport const paye_table = ({}) => [\n{ band_id: 1, band_co: 36800, rate: 0.2 },\n{ band_id: 2, band_co: 0, rate: 0.4 }\n/*{\r\n  band_id: 3,\r\n  band_co: 0,\r\n  rate: 0.4,\r\n},*/];\n\n\nexport const paye_band_id = ({ paye_band_id_in }) => paye_band_id_in;\n\nexport const paye_band_end = ({ paye_band_id_in, pay_period_duration_in, time_in }) => {\n  if (paye_band_id({ paye_band_id_in }) == paye_table({}).length) return 999999999;\n  return (\n    paye_table({})[paye_band_id({ paye_band_id_in }) - 1].band_co * factor_for_credits_and_bands({ pay_period_duration_in, time_in }));\n\n};\n\nexport const paye_band_start = ({ paye_band_id_in, pay_period_duration_in, time_in }) => {\n  if (paye_band_id({ paye_band_id_in }) == 1) return 0;\n  return (\n    paye_table({})[paye_band_id({ paye_band_id_in }) - 2].band_co * factor_for_credits_and_bands({ pay_period_duration_in, time_in }));\n\n};\n\nexport const paye_rate = ({ paye_band_id_in }) => paye_table({})[paye_band_id({ paye_band_id_in }) - 1].rate;\n\nexport const paye_taxable_salary = ({ time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in, op_pension_contribution_in, pay_period_pension_contribution_in, fut_pension_contribution_in }) =>\nMath.max(0, gross_salary({ time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in }) - pension_contribution({ time_in, pay_period_in, op_pension_contribution_in, pay_period_pension_contribution_in, pay_period_duration_in, fut_pension_contribution_in }));\n\nexport const op_pension_contribution = ({ op_pension_contribution_in }) => op_pension_contribution_in;\nexport const pay_period_pension_contribution = ({ pay_period_pension_contribution_in }) =>\npay_period_pension_contribution_in;\nexport const fut_pension_contribution = ({ fut_pension_contribution_in }) => fut_pension_contribution_in;\n\nexport const pension_contribution = ({ time_in, pay_period_in, op_pension_contribution_in, pay_period_pension_contribution_in, pay_period_duration_in, fut_pension_contribution_in }) => {\n  if (time({ time_in }) == pay_period({ pay_period_in }) - 1) return op_pension_contribution({ op_pension_contribution_in });else\n  if (time({ time_in }) == pay_period({ pay_period_in }))\n  return op_pension_contribution({ op_pension_contribution_in }) + pay_period_pension_contribution({ pay_period_pension_contribution_in });else\n  if (factor_for_credits_and_bands({ pay_period_duration_in, time_in }) == 1)\n  return (\n    op_pension_contribution({ op_pension_contribution_in }) +\n    pay_period_pension_contribution({ pay_period_pension_contribution_in }) +\n    fut_pension_contribution({ fut_pension_contribution_in }));\n\n};\n\nexport const paye_by_band_id = ({ paye_band_id_in, pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in, op_pension_contribution_in, pay_period_pension_contribution_in, fut_pension_contribution_in }) => paye_rate({ paye_band_id_in }) * paye_taxable_by_band_id({ paye_band_id_in, pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in, op_pension_contribution_in, pay_period_pension_contribution_in, fut_pension_contribution_in });\n\nexport const paye_taxable_by_band_id = ({ paye_band_id_in, pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in, op_pension_contribution_in, pay_period_pension_contribution_in, fut_pension_contribution_in }) =>\nMath.min(\npaye_band_end({ paye_band_id_in, pay_period_duration_in, time_in }) - paye_band_start({ paye_band_id_in, pay_period_duration_in, time_in }),\nMath.max(paye_taxable_salary({ time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in, op_pension_contribution_in, pay_period_pension_contribution_in, fut_pension_contribution_in }) - paye_band_start({ paye_band_id_in, pay_period_duration_in, time_in }), 0));\n\n\nexport const paye_exempt = ({ time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in, op_pension_contribution_in, pay_period_pension_contribution_in, fut_pension_contribution_in }) => gross_salary({ time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in }) - paye_taxable_salary({ time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in, op_pension_contribution_in, pay_period_pension_contribution_in, fut_pension_contribution_in });\n\nexport const paye_over_bands = ({ pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in, op_pension_contribution_in, pay_period_pension_contribution_in, fut_pension_contribution_in }) =>\nMath.max(\n0,\npaye_table({}).reduce(\n(a, v) => a + paye_by_band_id({ pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in, op_pension_contribution_in, pay_period_pension_contribution_in, fut_pension_contribution_in, paye_band_id_in: v.band_id }),\n0)\n//- tax_credit() // input not working here => placed outside. Issue #95\n);\n\nexport const tax_credits_pa = ({ tax_credits_pa_in }) => tax_credits_pa_in;\n\nexport const tax_credits = ({ tax_credits_pa_in, pay_period_duration_in, time_in }) =>\ntax_credits_pa({ tax_credits_pa_in }) * factor_for_credits_and_bands({ pay_period_duration_in, time_in });\n\nexport const tax_credits_deducted = ({ tax_credits_pa_in, pay_period_duration_in, time_in }) =>\ntax_credits({ tax_credits_pa_in, pay_period_duration_in, time_in }) - tax_credits({ tax_credits_pa_in, pay_period_duration_in, time_in: time({ time_in }) - 1 });\n\nexport const paye = ({ pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in, op_pension_contribution_in, pay_period_pension_contribution_in, fut_pension_contribution_in, tax_credits_pa_in }) => Math.max(paye_over_bands({ pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in, op_pension_contribution_in, pay_period_pension_contribution_in, fut_pension_contribution_in }) - tax_credits({ tax_credits_pa_in, pay_period_duration_in, time_in }), 0);\n\nexport const paye_payable = ({ pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in, op_pension_contribution_in, pay_period_pension_contribution_in, fut_pension_contribution_in, tax_credits_pa_in }) => paye({ pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in, op_pension_contribution_in, pay_period_pension_contribution_in, fut_pension_contribution_in, tax_credits_pa_in }) - paye({ pay_period_duration_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in, op_pension_contribution_in, pay_period_pension_contribution_in, fut_pension_contribution_in, tax_credits_pa_in, time_in: time({ time_in }) - 1 });\n\nexport const time = ({ time_in }) => time_in;\n\nexport const factor_for_credits_and_bands = ({ pay_period_duration_in, time_in }) => {\n  if (pay_period_duration({ pay_period_duration_in }) == 'W') return time({ time_in }) / 52;\n  if (pay_period_duration({ pay_period_duration_in }) == 'M') return time({ time_in }) / 12;\n  return 999;\n};\n\nexport const income_tax = ({ pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in, op_pension_contribution_in, pay_period_pension_contribution_in, fut_pension_contribution_in, tax_credits_pa_in }) => paye({ pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in, op_pension_contribution_in, pay_period_pension_contribution_in, fut_pension_contribution_in, tax_credits_pa_in }) + prsi({ time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in }) + usc({ pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in });\n\nexport const prsi_taxable_salary = ({ time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in }) => gross_salary({ time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in });\n\nexport const prsi = ({ time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in }) =>\nprsi_taxable_salary({ time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in }) *\nprsi_rate({}); /* * (gross_salary() > 352 * 52 ? 1 : 0);*/ // todo feature flag RE threshold\n\nexport const prsi_rate = ({}) => 0.04;\n\nexport const prsi_payable = ({ time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in }) => prsi({ time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in }) - prsi({ pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in, time_in: time({ time_in }) - 1 });\n\nexport const net_salary = ({ time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in, op_pension_contribution_in, pay_period_pension_contribution_in, fut_pension_contribution_in, tax_credits_pa_in }) => gross_salary({ time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, pay_period_duration_in, fut_gross_salary_in }) - pension_contribution({ time_in, pay_period_in, op_pension_contribution_in, pay_period_pension_contribution_in, pay_period_duration_in, fut_pension_contribution_in }) - income_tax({ pay_period_duration_in, time_in, pay_period_in, op_gross_salary_in, pay_period_gross_salary_in, fut_gross_salary_in, op_pension_contribution_in, pay_period_pension_contribution_in, fut_pension_contribution_in, tax_credits_pa_in });"]}